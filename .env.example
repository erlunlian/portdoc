# ============================================================================
# Environment Variables - Single Source of Truth
# ============================================================================
# This file is used by:
# - Docker Compose (infra/docker-compose.yml)
# - FastAPI Backend (apps/api/config.py)
#
# Copy this file to .env and fill in the values
# ============================================================================

# ============================================================================
# Database Configuration
# ============================================================================
# PostgreSQL connection string for the API
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:54322/postgres

# PostgreSQL password for Docker Compose services
POSTGRES_PASSWORD=postgres

# ============================================================================
# Supabase Configuration
# ============================================================================
# Supabase API endpoint
SUPABASE_URL=http://localhost:54321
SUPABASE_PUBLIC_URL=http://localhost:54321

# Supabase API Keys (for Docker Compose services)
# These are the standard demo keys - CHANGE IN PRODUCTION!
ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU

# Supabase configuration for API
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU
SUPABASE_JWT_SECRET=your-super-secret-jwt-token-with-at-least-32-characters-long

# JWT Secret (used by Supabase Auth services)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-token-with-at-least-32-characters-long

# ============================================================================
# Storage Configuration
# ============================================================================
STORAGE_BUCKET=pdfs

# ============================================================================
# LLM Configuration
# ============================================================================
# Set LLM_PROVIDER to "azure", "openai", or "ollama"
LLM_PROVIDER=ollama

# Ollama (local)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=gemma3:12b
OLLAMA_EMBEDDING_MODEL=mxbai-embed-large

# Azure OpenAI (if LLM_PROVIDER=azure)
# LLM_API_KEY=your-azure-api-key-here
# AZURE_OPENAI_ENDPOINT=https://your-resource-name.openai.azure.com
# AZURE_OPENAI_API_VERSION=2024-12-01-preview
# AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4.1-nano
# EMBEDDING_API_KEY=your-azure-api-key-here
# AZURE_EMBEDDING_ENDPOINT=https://your-resource-name.openai.azure.com
# AZURE_EMBEDDING_API_VERSION=2025-04-01-preview
# AZURE_EMBEDDING_DEPLOYMENT_NAME=text-embedding-ada-002
# EMBEDDING_DIMENSION=1536

# Standard OpenAI (if LLM_PROVIDER=openai)
# LLM_API_KEY=sk-your-openai-api-key-here
# LLM_BASE_URL=https://api.openai.com/v1
# LLM_MODEL=gpt-4-turbo-preview
# EMBEDDING_API_KEY=sk-your-openai-api-key-here
# EMBEDDING_BASE_URL=https://api.openai.com/v1
# EMBEDDING_MODEL=text-embedding-3-small
# EMBEDDING_DIMENSION=1536

# ============================================================================
# Application Configuration
# ============================================================================
ENVIRONMENT=development
LOG_LEVEL=INFO

# CORS Origins (JSON array string for API)
CORS_ORIGINS=["http://localhost:3000","http://localhost:54321"]

# ============================================================================
# Docker Compose / Supabase Auth Configuration
# ============================================================================
SITE_URL=http://localhost:3000
API_EXTERNAL_URL=http://localhost:54321
DISABLE_SIGNUP=false
ENABLE_EMAIL_SIGNUP=true
ENABLE_EMAIL_AUTOCONFIRM=true
SMTP_ADMIN_EMAIL=admin@example.com
SMTP_HOST=supabase-mail
SMTP_PORT=2500
SMTP_USER=
SMTP_PASS=
SMTP_SENDER_NAME=
MAILER_URLPATHS_INVITE=
MAILER_URLPATHS_CONFIRMATION=
MAILER_URLPATHS_RECOVERY=
MAILER_URLPATHS_EMAIL_CHANGE=
ADDITIONAL_REDIRECT_URLS=

# Database schemas for PostgREST
PGRST_DB_SCHEMAS=public,storage,graphql_public
